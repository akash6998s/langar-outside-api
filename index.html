<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1"
    />
    <title>Edit/Add Member</title>
    <link rel="stylesheet" href="style.css" />

    <!-- Cropper.js CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css"
      rel="stylesheet"
    />
    <style>
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <div
      id="loader"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.8);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 10000;
      "
    >
      <div
        style="
          border: 6px solid #f3f3f3;
          border-top: 6px solid #ffa726;
          border-radius: 50%;
          width: 50px;
          height: 50px;
          animation: spin 1s linear infinite;
        "
      ></div>
    </div>
    <div
      id="unlockArea"
      style="
        position: fixed;
        bottom: 10px;
        right: 10px;
        width: 40px;
        height: 40px;
        z-index: 9999;
      "
    ></div>

    <div class="form-container">
      <h2>Edit Member</h2>
      <form id="memberForm" novalidate>
        <select name="roll_no" id="roll_no" required>
          <option value="">Select Roll Number</option>
        </select>

        <input
          type="text"
          readonly
          name="name"
          id="name"
          placeholder="First Name"
          required
        />
        <input
          type="text"
          readonly
          name="last_name"
          id="last_name"
          placeholder="Last Name"
        />
        <input
          type="text"
          name="phone_no"
          id="phone_no"
          placeholder="Phone Number"
          required
          pattern="\d{10}"
          maxlength="10"
        />
        <input
          type="text"
          name="address"
          id="address"
          placeholder="Address"
          required
        />

        <!-- File upload -->
        <label for="imageUpload" class="custom-file-upload">Upload Image</label>
        <input type="file" name="image" id="imageUpload" accept="image/*" />

        <!-- Image preview and crop -->
        <div id="imagePreviewContainer" style="display: none; margin-top: 10px">
          <img id="imagePreview" style="max-width: 100%; max-height: 300px" />
          <div class="crop-controls">
            <button type="button" id="rotateLeft">⟲ Rotate Left</button>
            <button type="button" id="rotateRight">⟳ Rotate Right</button>
            <button type="button" id="cropButton">Crop Image</button>
          </div>
        </div>

        <button type="submit">Submit</button>
      </form>
      <div id="response"></div>
    </div>

    <!-- Cropper.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>

    <!-- Main JS -->
    <script src="script.js"></script>
  </body>
</html>
